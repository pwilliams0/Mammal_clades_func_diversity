# Calculate regional differentiation
#   First calculate mean phylobetadiversity within and between realms for each order
#   Then calculate regional differentiation as:
#      Reg_diff = 1 - (within / between)
Reg_diff <- data.frame(rodent = realm_pb("rodent"),
chirop = realm_pb("chirop"),
eulipo = realm_pb("eulipo"),
primat = realm_pb("primat"),
carniv = realm_pb("carniv"),
artiod = realm_pb("artiod")) %>%
rownames_to_column() %>%
pivot_longer(-rowname) %>%
pivot_wider(names_from = rowname, values_from = value) %>%
mutate(Order = name,
Reg_diff = 1 - (within_realm/between_realm)) %>%
select(-name)
